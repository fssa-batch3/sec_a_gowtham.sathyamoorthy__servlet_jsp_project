<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>order</title>
    <link rel="stylesheet" href="../assets/css/confim.css" />
  </head>
  <body>
    <nav id="js_header">
      <!-- header part -->
      <div class="logo">
        <img src="../assets/images/Turbo trip.png" alt="logo" />
      </div>
      <ul class="snip1143">
        <li class="#">
          <a href="../pages/drive_with_us.html" data-hover="Home">Home</a>
        </li>
        <li>
          <a href="../pages/About us.html" data-hover="About Us">About Us</a>
        </li>
        <li>
          <a href="../pages/collapse.html" data-hover="Notification"
            >Notification</a
          >
        </li>
        <li>
          <a href="../pages/contact us.html" data-hover="Contact">Contact</a>
        </li>
      </ul>

      <div class="user_profile">
        <a href="./profilepage-1.html">
          <img
            src="../assets/images/gpro.png"
            alt="use_pro"
            class="user_profile1"
        /></a>
      </div>
    </nav>
    <!-- this is the map embeded by google maps -->
    <div class="body">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d15551.651088073026!2d80.24246863251048!3d12.97743070363192!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e6!4m5!1s0x3a525d6d804e0793%3A0xf310a6ebd244b2d0!2sGlobal%20Infocity%20Park%2C%20Ambedkar%20Nagar%2C%20Perungudi%2C%20Chennai%2C%20Tamil%20Nadu!3m2!1d12.9702928!2d80.24260869999999!4m5!1s0x3a525d5b9b3bfc6f%3A0x6959f97669f90baa!2sThiruvanmiyur%2C%20Chennai%2C%20Tamil%20Nadu!3m2!1d12.983026899999999!2d80.2594001!5e0!3m2!1sen!2sin!4v1670929622782!5m2!1sen!2sin"
        width="800"
        height="840"
        style="border: 0"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
      <div>
        <img
          src="../assets/images/vinit sir.jpg"
          alt="customer"
          class="customer"
        />
        <div>
          <img
            src="../assets/images/valerie-kaarna-YsutjEqmLWo-unsplash.jpg"
            alt="driver"
            class="driver"
          />
        </div>
      </div>
      <!-- booking confrimed -->
      <div class="jonny">
        <div class="quick">
          Booking<br />
          confrimed !
        </div>

        <!-- <div class="footer">
          <div>
            <img
              src="../assets/images/valerie-kaarna-YsutjEqmLWo-unsplash.jpg"
              alt="driver2"
              class="driver1"
            />
          </div>
          <!-- the driver information -->
        <!-- <div>
            <h1>Name: Jonny</h1>
            <h2>Car: swift-dzire</h2>
            <p>He will arrive at with in 15 mins</p>
            <h3>Contact us : +919551555231</h3>
          </div>
        </div>  -->
      </div>
    </div>

    <div class="whole"></div>
    <script>
      let drivers = [
        {
          driver_name: " driver_name:Jonny ",
          car: "car:Swift-dzire",
          image: "../assets/images/valerie-kaarna-YsutjEqmLWo-unsplash.jpg",
          alt: "driver2",
          // contact: " contact: +919551555231",
          pickup: "tam",
          drop: "tam",
        },
      ];

      let bookings1 = JSON.parse(localStorage.getItem("bookings"));
      let users = JSON.parse(localStorage.getItem("users"));
      let userEmail = JSON.parse(localStorage.getItem("userEmail"));

      let user_details = users.find(
        (element) => element.user_email === userEmail
      );
      console.log(user_details);

      let finddriverdetails = bookings1.find(
        (element) => element.user_id === user_details.user_id
      );
      console.log(finddriverdetails);
      // let user_confirmdetails = JSON.parse(localStorage.getItem("users"));
      // console.log(user_confirmdetails);

      let card_div;
      let small_div;
      let card_img;
      let details_div;
      let name;
      let type_car;
      let para;
      let contact;

      for (let i = 0; i < drivers.length; i++) {
        card_div = document.createElement("div");
        card_div.setAttribute("class", "footer");
        console.log(card_div);

        small_div = document.createElement("div");
        card_div.append(small_div);

        card_img = document.createElement("img");
        card_img.setAttribute("class", "driver1");
        card_img.setAttribute("src", user_details["user_profile"]);
        small_div.append(card_img);

        details_div = document.createElement("div");
        card_div.append(details_div);

        name = document.createElement("h1");
        name.innerText = "Name : " + user_details["user_name"];
        details_div.append(name);

        drop = document.createElement("h2");
        drop.innerText = "pickup : " + finddriverdetails["user_pickup"];
        details_div.append(drop);

        para = document.createElement("p");
        para.innerText = "drop : " + finddriverdetails["user_drop"];
        details_div.append(para);

        contact = document.createElement("h3");
        contact.innerText = "ph no : " + user_details["user_number"];
        details_div.append(contact);

        button = document.createElement("button");
        button.setAttribute("id", "buton_1");
        button.innerText = ["Cancel ride"];
        details_div.append(button);

        document.querySelector(".jonny").append(card_div);
      }

      let cancel_ride = document.getElementById("buton_1");
      cancel_ride.addEventListener("click", function (event) {
        // array
        event.preventDefault();
        if (confirm("Are you want to cancel this ride")) {
          window.location.href = "../pages/carpool.html";
        }
      });
    </script>
  </body>
</html>
